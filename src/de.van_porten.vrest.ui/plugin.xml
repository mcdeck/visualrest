<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypes">
      <diagramType
            description="Rest Structure Diagram"
            id="de.van_porten.vrest.ui.diagram.structure.RestStructureDiagram"
            name="Rest Structure Diagram"
            type="RestStructureDiagram">
      </diagramType>
      <diagramType
            description="Resource States Diagram"
            id="de.van_porten.vrest.ui.diagram.states.RestResourceStatesDiagram"
            name="Resource States Diagram"
            type="RestResourceStatesDiagram">
      </diagramType>
      <diagramType
            description="Method Behaviour Diagram"
            id="de.van_porten.vrest.ui.diagram.method.RestMethodBehaviourDiagram"
            name="Method Behaviour Diagram"
            type="RestMethodBehaviourDiagram">
      </diagramType>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.diagramTypeProviders">
      <diagramTypeProvider
            class="de.van_porten.vrest.ui.diagram.structure.RestStructureDiagramTypeProvider"
            description="Rest Structure Diagram Editor"
            id="de.van_porten.vrest.ui.diagram.structure.RestStructureDiagramTypeProvider"
            name="Rest Structure Diagram Editor">
         <diagramType
               id="de.van_porten.vrest.ui.diagram.structure.RestStructureDiagram">
         </diagramType>
         <imageProvider
               id="de.van_porten.vrest.ui.diagram.RestImageProvider">
         </imageProvider>
      </diagramTypeProvider>
      <diagramTypeProvider
            class="de.van_porten.vrest.ui.diagram.state.RestResourceStatesDiagramTypeProvider"
            description="Rest Resource States Diagram Editor"
            id="de.van_porten.vrest.ui.diagram.states.RestResourceStatesDiagramTypeProvider"
            name="Rest Resource States Diagram Editor">
         <diagramType
               id="de.van_porten.vrest.ui.diagram.states.RestResourceStatesDiagram">
         </diagramType>
         <imageProvider
               id="de.van_porten.vrest.ui.diagram.RestImageProvider">
         </imageProvider>
      </diagramTypeProvider>
      <diagramTypeProvider
            class="de.van_porten.vrest.ui.diagram.method.RestMethodBehaviourDiagramTypeProvider"
            description="Rest Method Behaviour Diagram Editor"
            id="de.van_porten.vrest.ui.diagram.method.RestMethodBehaviourDiagramTypeProvider"
            name="Rest Method Behaviour Diagram Editor">
         <diagramType
               id="de.van_porten.vrest.ui.diagram.method.RestMethodBehaviourDiagram">
         </diagramType>
         <imageProvider
               id="de.van_porten.vrest.ui.diagram.RestImageProvider">
         </imageProvider>
      </diagramTypeProvider>
   </extension>
   <extension
         point="org.eclipse.graphiti.ui.imageProviders">
      <imageProvider
            class="de.van_porten.vrest.ui.diagram.RestImageProvider"
            id="de.van_porten.vrest.ui.diagram.RestImageProvider">
      </imageProvider>
   </extension>
	<extension
         id="de.van_porten.vrest.ui.ProjectNature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="de.van_porten.vrest.ui.RestProjectNature">
         </run>
      </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            id="de.van_porten.vrest.category"
            name="vREST">
      </category>
      <category
            id="de.van_porten.vrest.category.diagrams"
            name="Diagrams"
            parentCategory="de.van_porten.vrest.category">
      </category>
      <wizard
            canFinishEarly="true"
            category="de.van_porten.vrest.category/de.van_porten.vrest.category.diagrams"
            class="de.van_porten.vrest.ui.wizards.NewRestStructureDiagramWizard"
            finalPerspective="de.van_porten.vrest.ui.Perspective"
            hasPages="true"
            icon="icons/famfam/shape_group.png"
            id="de.van_porten.vrest.ui.wizards.NewRestStructureDiagramWizard"
            name="vREST Structure Diagram"
            preferredPerspectives="de.van_porten.vrest.ui.Perspective"
            project="false">
         <selection
               class="org.eclipse.core.resources.IFolder">
         </selection>
         <description>
            Create a new vREST Structure Diagram
         </description>
      </wizard>
      <wizard
            canFinishEarly="false"
            category="de.van_porten.vrest.category"
            class="de.van_porten.vrest.ui.wizards.NewRestProjectWizard"
            finalPerspective="de.van_porten.vrest.ui.Perspective"
            hasPages="true"
            icon="icons/famfam/transmit.png"
            id="de.van_porten.vrest.ui.wizards.NewVRestProjectWizard"
            name="vREST Project"
            preferredPerspectives="de.van_porten.vrest.ui.Perspective"
            project="true">
         <selection
               class="org.eclipse.core.resources.IResource">
         </selection>
         <description>
            Create a new vREST Modeling Project
         </description>
      </wizard>
   </extension>
   <extension
         point="org.eclipse.team.core.fileTypes">
      <fileTypes
            extension="structure"
            type="text">
      </fileTypes>
      <fileTypes
            extension="states"
            type="text">
      </fileTypes>
      <fileTypes
            extension="methods"
            type="text">
      </fileTypes>
      <fileTypes
            extension="rest"
            type="text">
      </fileTypes>
   </extension>
   <extension
         point="org.eclipse.core.contenttype.contentTypes">
      <content-type
            file-extensions="structure"
            id="de.van_porten.vrest.ui.diagram.RESTStructureDiagram"
            name="vREST Structure Diagram"
            priority="normal">
      </content-type>
      <content-type
            file-extensions="states"
            id="de.van_porten.vrest.ui.diagram.RESTResourceStatesDiagram"
            name="vREST Resource States Diagram"
            priority="normal">
      </content-type>
      <content-type
            file-extensions="methods"
            id="de.van_porten.vrest.ui.diagram.RESTMethodBehaviourDiagram"
            name="vREST Method Behaviour Diagram"
            priority="normal">
      </content-type>
      <content-type
            file-extensions="rest"
            id="de.van_porten.vrest.RESTApplication"
            name="RESTful Application Model"
            priority="normal">
      </content-type>
   </extension>
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="org.eclipse.graphiti.ui.editor.DiagramEditor"
            contributorClass="org.eclipse.graphiti.ui.editor.DiagramEditorActionBarContributor"
            default="true"
            extensions="structure"
            icon="icons/famfam/shape_group.png"
            id="de.van_porten.vrest.ui.diagram.structure.DiagramEditor"
            matchingStrategy="org.eclipse.graphiti.ui.editor.DiagramEditorMatchingStrategy"
            name="vREST Structure Diagram Editor">
         <contentTypeBinding
               contentTypeId="de.van_porten.vrest.ui.diagram.RESTStructureDiagram">
         </contentTypeBinding>
      </editor>
      <editor
            class="org.eclipse.graphiti.ui.editor.DiagramEditor"
            contributorClass="org.eclipse.graphiti.ui.editor.DiagramEditorActionBarContributor"
            default="true"
            extensions="states"
            icon="icons/famfam/wrench.png"
            id="de.van_porten.vrest.ui.diagram.state.DiagramEditor"
            matchingStrategy="org.eclipse.graphiti.ui.editor.DiagramEditorMatchingStrategy"
            name="vREST Resource States Diagram Edtior">
         <contentTypeBinding
               contentTypeId="de.van_porten.vrest.ui.diagram.RESTResourceStatesDiagram">
         </contentTypeBinding>
      </editor>
      <editor
            class="org.eclipse.graphiti.ui.editor.DiagramEditor"
            contributorClass="org.eclipse.graphiti.ui.editor.DiagramEditorActionBarContributor"
            default="true"
            extensions="methods"
            icon="icons/famfam/bricks.png"
            id="de.van_porten.vrest.ui.diagram.method.DiagramEditor"
            matchingStrategy="org.eclipse.graphiti.ui.editor.DiagramEditorMatchingStrategy"
            name="vREST Method Behaviour Editor">
         <contentTypeBinding
               contentTypeId="de.van_porten.vrest.ui.diagram.RESTMethodBehaviourDiagram">
         </contentTypeBinding>
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.perspectives">
      <perspective
            class="de.van_porten.vrest.ui.RestPerspectiveFactory"
            fixed="false"
            icon="icons/famfam/transmit.png"
            id="de.van_porten.vrest.ui.Perspective"
            name="vREST modeling">
         <description>
            Perspective for modeling of RESTful application using the vREST modeling language.
         </description>
      </perspective>
   </extension>
   <extension
         point="org.eclipse.ui.perspectiveExtensions">
      <perspectiveExtension
            targetID="de.van_porten.vrest.ui.Perspective">
         <view
               id="org.eclipse.ui.navigator.ProjectExplorer"
               minimized="false"
               ratio="0.2"
               relationship="left"
               relative="org.eclipse.ui.editorss"
               showTitle="true"
               visible="true">
         </view>
         <view
               id="org.eclipse.ui.views.ContentOutline"
               minimized="false"
               ratio="0.5"
               relationship="bottom"
               relative="org.eclipse.ui.navigator.ProjectExplorer"
               visible="true">
         </view>
         <view
               closeable="true"
               id="org.eclipse.ui.views.PropertySheet"
               minimized="false"
               moveable="true"
               ratio="0.7"
               relationship="bottom"
               relative="org.eclipse.ui.editorss"
               showTitle="true"
               visible="true">
         </view>
         <view
               closeable="true"
               id="org.eclipse.graphiti.ui.internal.editor.thumbnailview"
               minimized="false"
               ratio="0.8"
               relationship="right"
               relative="org.eclipse.ui.views.PropertySheet"
               visible="true">
         </view>
         <view
               closeable="true"
               id="org.eclipse.ui.views.ProblemView"
               minimized="false"
               moveable="true"
               relationship="stack"
               relative="org.eclipse.ui.views.PropertySheet"
               showTitle="true"
               visible="true">
         </view>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="*">
         <perspectiveShortcut
               id="de.van_porten.vrest.ui.Perspective">
         </perspectiveShortcut>
      </perspectiveExtension>
      <perspectiveExtension
            targetID="de.van_porten.vrest.ui.Perspective">
         <newWizardShortcut
               id="de.van_porten.vrest.ui.wizards.NewVRestProjectWizard">
         </newWizardShortcut>
         <newWizardShortcut
               id="de.van_porten.vrest.ui.wizards.NewRestStructureDiagramWizard">
         </newWizardShortcut>
      </perspectiveExtension>
   </extension>

   <extension
         point="org.eclipse.ui.navigator.navigatorContent">
      <commonWizard
            type="new"
            wizardId="de.van_porten.vrest.ui.wizards.NewRestStructureDiagramWizard">
         <enablement>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
               <instanceof
                     value="org.eclipse.core.resources.IResource">
               </instanceof>
            </or></enablement>
      </commonWizard>
      <commonWizard
            type="new"
            wizardId="de.van_porten.vrest.ui.wizards.NewVRestProjectWizard">
         <enablement></enablement>
      </commonWizard>
      <navigatorContent
            activeByDefault="true"
            contentProvider="de.van_porten.vrest.ui.navigator.RestApplicationTreeContentProvider"
            icon="icons/famfam/world.png"
            id="de.van_porten.vrest.ui.navigator.navigatorContent"
            labelProvider="de.van_porten.vrest.ui.navigator.RestApplicationLabelProvider"
            name="REST Model Navigator Content"
            priority="highest"
            providesSaveables="false">
         <triggerPoints>
            <or>
               <instanceof
                     value="org.eclipse.core.resources.IProject">
               </instanceof>
            </or>
         </triggerPoints>
         <possibleChildren>
            <instanceof
                  value="de.van_porten.vrest.ui.navigator.nodes.IRestTreeNode">
            </instanceof>
         </possibleChildren>
      </navigatorContent>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            class="de.van_porten.vrest.ui.preferences.RestPreferencesPage"
            id="de.van_porten.vrest.ui.preferences.VRestPreferencesPage"
            name="vRest Preferences">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="de.van_porten.vrest.ui.preferences.PreferenceInitializer">
      </initializer>
   </extension>
   <extension
         point="org.eclipse.ui.navigator.viewer">
      <viewerContentBinding
            viewerId="org.eclipse.ui.navigator.ProjectExplorer">
         <includes>
            <contentExtension
                  isRoot="false"
                  pattern="de.van_porten.vrest.ui.navigator.navigatorContent">
            </contentExtension>
         </includes>
      </viewerContentBinding>
   </extension>
   <extension
         point="org.eclipse.core.runtime.adapters">
      <factory
            adaptableType="org.eclipse.graphiti.ui.editor.DiagramEditor"
            class="de.van_porten.vrest.ui.outline.ContentOutlinePageAdapterFactory">
         <adapter
               type="org.eclipse.ui.views.contentoutline.IContentOutlinePage">
         </adapter>
      </factory>
   </extension>

</plugin>
